# 診療報酬マスターファイル一覧
## Master Data Files Inventory

**最終更新**: 2025-11-12

---

## 📁 ファイル構成

### 1. 既存ファイル（診療行為マスター）

#### 診療報酬点数表 CSV (Shift-JIS)
- **01補助マスターテーブル（歯科）.csv** (1.2MB) - 診療行為マスター
- **02包括テーブル（歯科）.csv** (4.5MB) - 包括関係
- **03-1背反テーブル1（歯科）.csv** (1.4MB) - 同日算定不可
- **03-2背反テーブル2（歯科）.csv** (228KB) - 同月算定不可
- **03-3背反テーブル3（歯科）.csv** (533KB) - 同時算定不可
- **03-4背反テーブル4（歯科）.csv** (3.2KB) - 同一部位同時算定不可
- **03-5背反テーブル5（歯科）.csv** (10KB) - 同週算定不可
- **04算定回数テーブル（歯科）.csv** (334KB) - 算定回数制限

---

### 2. 新規ダウンロードファイル（2025-11-12）

#### 厚生労働省 歯科診療報酬マスター

##### A. Excel形式マスター
1. **h-2m_20240628.xlsx** (1.2MB) - 医薬品マスター（2024年6月28日版）
2. **h-3m_20250901.xlsx** (1.6MB) - 中央マスター（2025年9月1日版）
3. **h-4m_20250307.xlsx** (1.1MB) - 手術・処置マスター（2025年3月7日版）
4. **h-5m_20250808.xlsx** (181KB) - （内容未確認）

##### B. CSV形式マスター（Shift-JIS）
- **h_20250901.csv** (1.2MB) - 基本マスター（2025年9月1日版）
- **c_20250715.csv** (793KB) - 中央マスター（2025年7月15日版）
- **k.csv** (137KB) - 特掲診療料マスター

##### C. 補助マスター CSV
- **h-2_20240628.csv** (41KB)
- **h-3_20250901.csv** (317KB)
- **h-4_20250307.csv** (168KB)
- **h-6_20250307.csv** (81KB)
- **h-7_20250324.csv** (28KB)
- **h-9_20240628.csv** (13KB)
- **h-10_20240726.csv** (221KB)

##### D. テキスト形式データ
- **b_20250601.txt** (7.6MB) - 病名マスター（2025年6月1日版）
- **hb_20250601.txt** (1.9MB) - 修飾語マスター（2025年6月1日版）
- **ikou_20250601.txt** (528KB) - 移行マスター（2025年6月1日版）

##### E. その他ファイル
- **f_20111003.csv** (72KB) - （古いファイル: 2011年）

---

## 📋 ファイル統計

- **CSVファイル**: 19個
- **Excelファイル**: 4個
- **テキストファイル**: 3個
- **ZIPファイル**: 16個（展開済み）
- **合計サイズ**: 約27MB

---

## 🔍 重要な発見

### 病名マスター発見！
**b_20250601.txt** (7.6MB) が病名マスターと思われます。
- ファイル名の "b" は "病名(Byoumei)" を意味する可能性が高い
- サイズが大きく（7.6MB）、病名データベースに適合
- 2025年6月1日版

### 修飾語マスター
**hb_20250601.txt** (1.9MB) が修飾語マスターと思われます。
- "hb" = "保険病名" または "補助病名"
- レセプト作成時に病名の修飾に使用

### 医薬品マスター
**h-2m_20240628.xlsx** が医薬品マスターです。
- Excel形式（要CSV変換）
- 2024年6月28日版

---

## 📝 次のステップ

### 1. ファイル形式確認
```bash
# 病名マスターの構造確認
head -5 b_20250601.txt | iconv -f SHIFT-JIS -t UTF-8

# 医薬品マスターの確認（Excel → CSV変換が必要）
```

### 2. データベース取込
Phase 1実装時に以下のファイルをデータベースに取り込む：

#### 必須ファイル:
- ✅ 診療行為マスター: `01補助マスターテーブル（歯科）.csv`
- ✅ 病名マスター: `b_20250601.txt`
- ✅ 医薬品マスター: `h-2m_20240628.xlsx` (CSV変換後)

#### 関連ファイル:
- 包括テーブル: `02包括テーブル（歯科）.csv`
- 背反テーブル: `03-1` ~ `03-5`
- 算定回数テーブル: `04算定回数テーブル（歯科）.csv`
- 修飾語マスター: `hb_20250601.txt`

### 3. 文字エンコーディング変換
すべてのCSV/TXTファイルはShift-JISエンコーディングです。
UTF-8への変換が必要です。

```bash
# 一括変換例
for f in *.csv *.txt; do
  iconv -f SHIFT-JIS -t UTF-8 "$f" > "${f%.csv}_utf8.csv"
done
```

---

## ⚠️ 注意事項

1. **文字エンコーディング**: すべてShift-JIS
2. **Excelファイル**: CSV変換が必要
3. **バージョン管理**: ファイル名に日付が含まれる（YYYYMMDD形式）
4. **更新頻度**: 診療報酬改定（2年ごと4月）+ 随時更新

---

## 🎯 Phase 1 実装での使用予定

| テーブル | ソースファイル | 形式 | サイズ | ステータス |
|---------|--------------|------|--------|----------|
| treatment_codes | 01補助マスターテーブル（歯科）.csv | CSV | 1.2MB | ✅ 準備完了 |
| disease_codes | b_20250601.txt | TXT | 7.6MB | ✅ 準備完了 |
| medicine_codes | h-2m_20240628.xlsx | Excel | 1.2MB | ⚠️ CSV変換必要 |

**合計**: 3つの主要マスターファイル準備完了

---

**作成日**: 2025-11-12
**作成者**: Claude Code
